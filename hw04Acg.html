<!DOCTYPE html>
<html>
	<head>
      <meta charset="utf-8"> 
		<title>CG Homework 04</title>
      <!-- resources:
      https://github.com/stemkoski/stemkoski.github.com/blob/master/Three.js/Reflection.html
      https://github.com/stemkoski/stemkoski.github.com/blob/master/Three.js/Skybox.html
      http://threejs.org/docs/index.html#Reference/
      https://github.com/stemkoski/stemkoski.github.com/tree/master/Three.js
      
      -->
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100%; left: 50px; top: 25px; position:relative }
		</style>
	</head>
	<body>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r71/three.min.js"></script>
      <script src="OrbitControls.js"></script>
		<script>
     
			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );
         THREE.ImageUtils.crossOrigin = '';
         var loader = new THREE.TextureLoader();
         
         var renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth/2, window.innerHeight/2 );
			document.body.appendChild( renderer.domElement );
         var controls = new THREE.OrbitControls( camera, renderer.domElement );
         camera.position.set(0,6.7,6.2);
         camera.lookAt(scene.position);	
         var materialArray = [];
         materialArray.push(new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture( 'die-1.png' ), bumpMap: THREE.ImageUtils.loadTexture( 'bumpDie-1a.png' )}));
         materialArray.push(new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture( 'die-6.png' ), bumpMap: THREE.ImageUtils.loadTexture( 'bumpDie-6a.png' )}));
         materialArray.push(new THREE.MeshBasicMaterial( { map: THREE.ImageUtils.loadTexture( 'die-3.png' ), bumpMap: THREE.ImageUtils.loadTexture( 'bumpDie-3a.png' )}));
         materialArray.push(new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture( 'die-4.png' ), bumpMap: THREE.ImageUtils.loadTexture( 'bumpDie-4a.png' )}));
         materialArray.push(new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture( 'die-2.png' ), bumpMap: THREE.ImageUtils.loadTexture( 'bumpDie-2a.png' )}));
         materialArray.push(new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture( 'die-5.png' ), bumpMap: THREE.ImageUtils.loadTexture( 'bumpDie-5a.png' )}));
   

         var dieMaterial = new THREE.MeshFaceMaterial( materialArray );
         var dieGeometry = new THREE.BoxGeometry( 1, 1, 1, 1, 1, 1 );
         var die = new THREE.Mesh( dieGeometry, dieMaterial );
         scene.add( die );	
   

			
			var material1 = new THREE.MeshPhongMaterial( {color: 0x888888,  specular: 0x0029e0, shininess: 30, shading: THREE.FlatShading} );

         geometry = new THREE.CylinderGeometry(1, 3, 2, 42, 6);
         var conicCyl = new THREE.Mesh(geometry, material1);

         scene.add(conicCyl);

         conicCyl.position.y += 1.22;
         die.rotation.x = 0.5;
         die.position.y += 4;
			//camera.position.z = 3.2;
         //camera.position.y = 3.7;
 

         var light = new THREE.PointLight( 0xeeffff );
				
            light.position.y += 7;
            light.position.x += 4;
            light.position.z += 10;
				scene.add( light );
            
			var render = function () {
				requestAnimationFrame( render );
				die.rotation.y += 0.01;
            die.rotation.z -= .001;
            //conic2.rotation.y += 0.01;
           // cyl.rotation.y += 0.01;
				renderer.render(scene, camera);
			};

			render();
		</script>
	</body>
</html>